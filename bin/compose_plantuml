#!/usr/bin/env python3
from compose_plantuml import cli

if __name__ == '__main__':
    import sys

    args = cli.parse_args()

    if not args.link_graph and not args.boundaries and not args.port_boundaries and not args.volume_boundaries:
        print('specify an output option. e.g.: link-graph or boundaries')
        sys.exit(1)

    if len(args.files) == 0:
        print(cli.execute(sys.stdin.read(), args))

    for path in args.files:
        with open(path, 'r') as file:
            print(cli.execute(file.read(), args))
